"""
Management command для додавання FAQ з сайту speak-up.com.ua.
Використання: python manage.py add_faq_from_site
"""
from django.core.management.base import BaseCommand
from apps.core.models import FAQ


class Command(BaseCommand):
    help = 'Додає FAQ з сайту speak-up.com.ua'

    def handle(self, *args, **options):
        # FAQ з сайту speak-up.com.ua
        # Відповіді базуються на загальній інформації з сайту
        FAQ_DATA = [
            # Колонка 1 (order 1-4): основні питання про навчання
            {
                'question_uk': 'Що таке Speak Up?',
                'question_ru': 'Что такое Speak Up?',
                'answer_uk': 'Speak Up - це міжнародна школа англійської мови з 20-річним досвідом роботи. Ми пропонуємо онлайн навчання з гнучким графіком, маленькими групами та висококваліфікованими викладачами. Наша методика дозволяє досягти рівня С1 всього за 500 занять.',
                'answer_ru': 'Speak Up - это международная школа английского языка с 20-летним опытом работы. Мы предлагаем онлайн обучение с гибким графиком, маленькими группами и высококвалифицированными преподавателями. Наша методика позволяет достичь уровня С1 всего за 500 занятий.',
                'order': 1
            },
            {
                'question_uk': 'Які рівні англійської ви викладаєте?',
                'question_ru': 'Какие уровни английского вы преподаете?',
                'answer_uk': 'Ми викладаємо англійську мову від початкового рівня (Beginner) до просунутого (Advanced C1). Наша програма дозволяє почати з нуля та досягти високого рівня володіння мовою. Кожен студент проходить тестування для визначення початкового рівня.',
                'answer_ru': 'Мы преподаем английский язык от начального уровня (Beginner) до продвинутого (Advanced C1). Наша программа позволяет начать с нуля и достичь высокого уровня владения языком. Каждый студент проходит тестирование для определения начального уровня.',
                'order': 2
            },
            {
                'question_uk': 'Скільки коштує навчання?',
                'question_ru': 'Сколько стоит обучение?',
                'answer_uk': 'Вартість навчання залежить від обраної програми та формату занять. У нас є програми для дітей від 19 900 грн, для дорослих групові від 15 900 грн, індивідуальні від 665 грн за заняття. Детальну інформацію про ціни можна отримати у нашого консультанта.',
                'answer_ru': 'Стоимость обучения зависит от выбранной программы и формата занятий. У нас есть программы для детей от 19 900 грн, для взрослых групповые от 15 900 грн, индивидуальные от 665 грн за занятие. Подробную информацию о ценах можно получить у нашего консультанта.',
                'order': 3
            },
            {
                'question_uk': 'Чи можна спробувати безкоштовно?',
                'question_ru': 'Можно ли попробовать бесплатно?',
                'answer_uk': 'Так! Ми пропонуємо безкоштовний пробний урок, де ви зможете познайомитися з нашою платформою, викладачем та методикою навчання. Це дозволить вам зрозуміти, чи підходить вам наш формат навчання перед тим, як оплачувати курс.',
                'answer_ru': 'Да! Мы предлагаем бесплатный пробный урок, где вы сможете познакомиться с нашей платформой, преподавателем и методикой обучения. Это позволит вам понять, подходит ли вам наш формат обучения перед тем, как оплачивать курс.',
                'order': 4
            },
            # Колонка 2 (order 5-8): питання про формат та методику
            {
                'question_uk': 'Як проходять онлайн заняття?',
                'question_ru': 'Как проходят онлайн занятия?',
                'answer_uk': 'Заняття проходять на нашій власній платформі навчання через інтернет. Вам потрібен лише комп\'ютер, планшет або смартфон з доступом до інтернету. Викладач проводить урок у реальному часі, ви бачите та чуєте один одного, працюєте з матеріалами та виконуєте вправи.',
                'answer_ru': 'Занятия проходят на нашей собственной платформе обучения через интернет. Вам нужен только компьютер, планшет или смартфон с доступом к интернету. Преподаватель проводит урок в реальном времени, вы видите и слышите друг друга, работаете с материалами и выполняете упражнения.',
                'order': 5
            },
            {
                'question_uk': 'Яка методика навчання використовується?',
                'question_ru': 'Какая методика обучения используется?',
                'answer_uk': 'Ми використовуємо Blended Learning - комбіновану методику, яка поєднує групові заняття з викладачем, індивідуальні консультації та інтерактивні мультимедійні уроки. 90% часу приділяється практиці спілкування, мінімум теорії. Це дозволяє швидко покращити рівень мови.',
                'answer_ru': 'Мы используем Blended Learning - комбинированную методику, которая сочетает групповые занятия с преподавателем, индивидуальные консультации и интерактивные мультимедийные уроки. 90% времени уделяется практике общения, минимум теории. Это позволяет быстро улучшить уровень языка.',
                'order': 6
            },
            {
                'question_uk': 'Чи можна відпрацювати пропущене заняття?',
                'question_ru': 'Можно ли отработать пропущенное занятие?',
                'answer_uk': 'Так! У нас є унікальна система відпрацювання занять. Кожен урок повторюється раз на 6 тижнів, тому ви завжди можете відпрацювати пропущене заняття в зручний для вас час. Немає прив\'язки до групи - ви обираєте час та викладача самостійно.',
                'answer_ru': 'Да! У нас есть уникальная система отработки занятий. Каждый урок повторяется раз в 6 недель, поэтому вы всегда можете отработать пропущенное занятие в удобное для вас время. Нет привязки к группе - вы выбираете время и преподавателя самостоятельно.',
                'order': 7
            },
            {
                'question_uk': 'Які матеріали навчання надаються?',
                'question_ru': 'Какие материалы обучения предоставляются?',
                'answer_uk': 'Всі навчальні матеріали надаються в електронному форматі через нашу платформу. Ви отримуєте інтерактивний PDF-підручник, доступ до мультимедійних уроків, записів занять та додаткових матеріалів. Всі матеріали доступні 24/7 у вашому особистому кабінеті.',
                'answer_ru': 'Все учебные материалы предоставляются в электронном формате через нашу платформу. Вы получаете интерактивный PDF-учебник, доступ к мультимедийным урокам, записям занятий и дополнительным материалам. Все материалы доступны 24/7 в вашем личном кабинете.',
                'order': 8
            },
            # Колонка 3 (order 9-12): питання про гарантії та підтримку
            {
                'question_uk': 'Чи є гарантія результату?',
                'question_ru': 'Есть ли гарантия результата?',
                'answer_uk': 'Так! Ми даємо офіційну письмову гарантію результату. Якщо після завершення рівня ви не здасте фінальний тест на 65% або вище, ви отримаєте безкоштовне повторення курсу одразу, без очікування набору нової групи. Це наша гарантія якості навчання.',
                'answer_ru': 'Да! Мы даем официальную письменную гарантию результата. Если после завершения уровня вы не сдадите финальный тест на 65% или выше, вы получите бесплатное повторение курса сразу, без ожидания набора новой группы. Это наша гарантия качества обучения.',
                'order': 9
            },
            {
                'question_uk': 'Як відбувається тестування рівня?',
                'question_ru': 'Как происходит тестирование уровня?',
                'answer_uk': 'Перед початком навчання ви проходите безкоштовне онлайн тестування, яке визначає ваш початковий рівень. Після завершення кожного рівня ви проходите фінальний тест для перевірки знань. Всі тести автоматичні та об\'єктивні, вони допомагають відстежувати ваш прогрес.',
                'answer_ru': 'Перед началом обучения вы проходите бесплатное онлайн тестирование, которое определяет ваш начальный уровень. После завершения каждого уровня вы проходите финальный тест для проверки знаний. Все тесты автоматические и объективные, они помогают отслеживать ваш прогресс.',
                'order': 10
            },
            {
                'question_uk': 'Чи можна змінювати викладача?',
                'question_ru': 'Можно ли менять преподавателя?',
                'answer_uk': 'Так! У нас понад 50 викладачів, і ви можете обирати викладача на кожне заняття. Це дозволяє знайти свого ідеального ментора, який підходить саме вам. Ви також можете займатися з різними викладачами для різноманітності та кращого розвитку навичок.',
                'answer_ru': 'Да! У нас более 50 преподавателей, и вы можете выбирать преподавателя на каждое занятие. Это позволяет найти своего идеального ментора, который подходит именно вам. Вы также можете заниматься с разными преподавателями для разнообразия и лучшего развития навыков.',
                'order': 11
            },
            {
                'question_uk': 'Як отримати підтримку під час навчання?',
                'question_ru': 'Как получить поддержку во время обучения?',
                'answer_uk': 'Кожен студент має персонального освітнього консультанта, який допомагає з усіма питаннями. Ви також можете звернутися до служби підтримки за телефоном +38 (093) 170-78-67 або через особистий кабінет. Ми завжди готові допомогти вам з будь-якими питаннями.',
                'answer_ru': 'Каждый студент имеет персонального образовательного консультанта, который помогает со всеми вопросами. Вы также можете обратиться в службу поддержки по телефону +38 (093) 170-78-67 или через личный кабинет. Мы всегда готовы помочь вам с любыми вопросами.',
                'order': 12
            },
            # Додаткові питання (order 13-20)
            {
                'question_uk': 'Як довго триває урок?',
                'question_ru': 'Как долго длится урок?',
                'answer_uk': 'Тривалість уроку залежить від обраної програми навчання. Зазвичай заняття тривають від 45 хвилин до 1,5 години. Детальну інформацію про тривалість занять для конкретної програми можна отримати у нашого консультанта.',
                'answer_ru': 'Продолжительность урока зависит от выбранной программы обучения. Обычно занятия длятся от 45 минут до 1,5 часа. Подробную информацию о продолжительности занятий для конкретной программы можно получить у нашего консультанта.',
                'order': 13
            },
            {
                'question_uk': 'Як присвоюють графік занять?',
                'question_ru': 'Как назначают расписание занятий?',
                'answer_uk': 'У Speak Up ви самі формуєте розклад занять на тиждень. Ви можете обрати зручний для вас час та самостійно формувати розклад своїх занять, включаючи заняття з викладачами та індивідуальні консультації. Гнучкий графік дозволить вам займатися в зручний час.',
                'answer_ru': 'В Speak Up вы сами формируете расписание занятий на неделю. Вы можете выбрать удобное для вас время и самостоятельно формировать расписание своих занятий, включая занятия с преподавателями и индивидуальные консультации. Гибкий график позволит вам заниматься в удобное время.',
                'order': 14
            },
            {
                'question_uk': 'Скільки людей навчаються в групі?',
                'question_ru': 'Сколько людей обучается в группе?',
                'answer_uk': 'У Speak Up маленькі групи від 2 до 10 осіб. Це забезпечує індивідуальний підхід до кожного студента та можливість активної практики спілкування. Невелике наповнення груп дозволяє викладачу приділити увагу кожному студенту.',
                'answer_ru': 'В Speak Up маленькие группы от 2 до 10 человек. Это обеспечивает индивидуальный подход к каждому студенту и возможность активной практики общения. Небольшое наполнение групп позволяет преподавателю уделить внимание каждому студенту.',
                'order': 15
            },
            {
                'question_uk': 'Як почати навчатися?',
                'question_ru': 'Как начать обучаться?',
                'answer_uk': 'Щоб почати навчання в Speak Up, вам не потрібно чекати закінчення набору в групу - можна почати навчання в будь-який день! Заповніть форму на нашому сайті або зателефонуйте нам, і наші консультанти допоможуть вам обрати оптимальну програму та розпочати навчання.',
                'answer_ru': 'Чтобы начать обучение в Speak Up, вам не нужно ждать окончания набора в группу - можно начать обучение в любой день! Заполните форму на нашем сайте или позвоните нам, и наши консультанты помогут вам выбрать оптимальную программу и начать обучение.',
                'order': 16
            },
            {
                'question_uk': 'Як і в якому форматі видається домашнє завдання?',
                'question_ru': 'Как и в каком формате выдается домашнее задание?',
                'answer_uk': 'Домашнє завдання видається в електронному форматі через нашу платформу навчання. Ви матимете доступ до завдань 24/7, зможете виконувати їх у зручний час та отримувати зворотний зв\'язок від викладачів. Всі матеріали доступні онлайн.',
                'answer_ru': 'Домашнее задание выдается в электронном формате через нашу платформу обучения. Вы будете иметь доступ к заданиям 24/7, сможете выполнять их в удобное время и получать обратную связь от преподавателей. Все материалы доступны онлайн.',
                'order': 17
            },
            {
                'question_uk': 'Чому вам варто обрати школу англійської SpeakUP?',
                'question_ru': 'Почему вам стоит выбрать школу английского SpeakUP?',
                'answer_uk': 'Speak Up - це міжнародна школа з 18-річним досвідом роботи в Україні. Ми пропонуємо гнучкий графік, маленькі групи, висококваліфікованих викладачів та унікальну методику навчання. Ми даємо письмову гарантію результату та маємо понад 500 тисяч задоволених студентів по всьому світу.',
                'answer_ru': 'Speak Up - это международная школа с 18-летним опытом работы в Украине. Мы предлагаем гибкий график, маленькие группы, высококвалифицированных преподавателей и уникальную методику обучения. Мы даем письменную гарантию результата и имеем более 500 тысяч довольных студентов по всему миру.',
                'order': 18
            },
            {
                'question_uk': 'Що робити якщо не можеш під\'єднатися до уроку через технічні неполадки?',
                'question_ru': 'Что делать если не можешь подключиться к уроку из-за технических неполадок?',
                'answer_uk': 'Якщо у вас виникли технічні проблеми під час підключення до уроку, негайно зверніться до служби підтримки Speak Up. Наші фахівці допоможуть вирішити проблему. Ви також можете відпрацювати пропущене заняття в зручний для вас час - вам не доведеться платити за пропущені уроки.',
                'answer_ru': 'Если у вас возникли технические проблемы во время подключения к уроку, немедленно обратитесь в службу поддержки Speak Up. Наши специалисты помогут решить проблему. Вы также можете отработать пропущенное занятие в удобное для вас время - вам не придется платить за пропущенные уроки.',
                'order': 19
            },
            {
                'question_uk': 'Як звернутися до служби підтримки SpeakUP?',
                'question_ru': 'Как обратиться в службу поддержки SpeakUP?',
                'answer_uk': 'Ви можете звернутися до служби підтримки Speak Up зателефонувавши на гарячу лінію +38 (093) 170-78-67 або написавши нам на email. Наші консультанти працюють Пн-Пт: 10:00-21:30, Сб: 11:00-15:00. Ми завжди готові допомогти вам з будь-якими питаннями.',
                'answer_ru': 'Вы можете обратиться в службу поддержки Speak Up позвонив на горячую линию +38 (093) 170-78-67 или написав нам на email. Наши консультанты работают Пн-Пт: 10:00-21:30, Сб: 11:00-15:00. Мы всегда готовы помочь вам с любыми вопросами.',
                'order': 20
            },
        ]

        self.stdout.write('Додавання FAQ з сайту speak-up.com.ua...\n')

        created_count = 0
        skipped_count = 0

        for data in FAQ_DATA:
            # Перевіряємо чи не існує вже таке питання
            existing = FAQ.objects.filter(
                question_uk__iexact=data['question_uk']
            ).first()

            if existing:
                skipped_count += 1
                self.stdout.write(
                    self.style.WARNING(f'⊘ Пропущено (вже існує): {data["question_uk"]}')
                )
                continue

            faq = FAQ.objects.create(
                question_uk=data['question_uk'],
                question_ru=data.get('question_ru', ''),
                answer_uk=data['answer_uk'],
                answer_ru=data.get('answer_ru', ''),
                order=data['order'],
                is_active=True
            )

            created_count += 1
            self.stdout.write(
                self.style.SUCCESS(f'✓ Створено: {faq.question_uk}')
            )

        self.stdout.write(
            self.style.SUCCESS(
                f'\nГотово! Створено: {created_count}, пропущено: {skipped_count}'
            )
        )
        self.stdout.write(
            f'Всього активних FAQ: {FAQ.objects.filter(is_active=True).count()}'
        )


