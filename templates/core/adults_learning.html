{% extends "base.html" %}
{% load static %}

{% block title %}Навчання для дорослих - Школа англійської мови SPEAK UP{% endblock %}
{% block og_title %}Навчання для дорослих - Школа англійської мови SPEAK UP{% endblock %}
{% block meta_description %}Навчання англійської для дорослих у школі SPEAK UP. Обирайте свій темп: від базових рівнів до повного безліміту на рік. Програми для швидкого подолання мовного бар'єру.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/parallax.css' %}">
<link rel="stylesheet" href="{% static 'css/components/adults-advantages.css' %}">
<link rel="stylesheet" href="{% static 'css/components/levels-pricing.css' %}">
{% endblock %}

{% block content %}
<!-- Паралакс-контейнер для статичного фону -->
<div class="parallax-container parallax-container--adults" aria-hidden="true">
  <div class="parallax-layer parallax-layer__background"></div>
</div>

<main class="hero-content">
  <!-- 1. HERO-БЛОК З ЗОБРАЖЕННЯМ ТА КНОПКАМИ НАВІГАЦІЇ (2-КОЛОНКОВИЙ) -->
  <section class="advantages-section advantages-section--hero glass-section">
    <!-- ЗАГОЛОВКИ ДЛЯ HERO СЕКЦІЇ -->
    <div class="advantages-section__header">
      <h2 class="section-title section-title--hero">Навчання для дорослих</h2>
      <p class="section-subtitle section-subtitle--hero">Обери свою програму</p>
    </div>

    <!-- ЛІВА КОЛОНКА: ЗОБРАЖЕННЯ З КНОПКАМИ -->
    <div class="advantages-hero__left">
      <div class="advantages-hero__image-wrapper">
        <img src="{% static 'img/adults_hero.png' %}" alt="Навчання для дорослих" class="advantages-hero__image" loading="lazy" decoding="async">
      </div>

      <!-- КОНТЕЙНЕР З КНОПКАМИ У ПРАВОМУ ВЕРХНЬОМУ КУТІ -->
      <div class="advantages-hero__buttons">
        <a href="#levels-section" class="advantages-hero__button glass-card">
          Навчання за рівнями
        </a>
        <a href="#individual-section" class="advantages-hero__button glass-card">
          Індивідуальні заняття
        </a>
        <a href="#unlimited-section" class="advantages-hero__button glass-card">
          Безлімітне навчання
        </a>
      </div>
    </div>

    <!-- ПРАВА КОЛОНКА: ФОРМА -->
    <div class="advantages-hero__right">
      <div class="advantages-section__form glass-card advantages-section__form--hero">
        <h3 class="advantages-section__form-title">Запишіться на безкоштовне пробне заняття</h3>
        <p class="advantages-section__form-subtitle">Визначимо ваш рівень англійської та складемо персональний план навчання</p>
        {% include 'components/trial-form.html' with form=trial_form variant="adults-advantages" %}
      </div>
    </div>
  </section>

  <!-- 2. БЛОК "НАВЧАННЯ ЗА РІВНЯМИ" -->
  <section class="levels-section glass-section" id="levels-section">
    <!-- Заголовок і підзаголовок -->
    <h2 class="section-title">Навчання за рівнями</h2>
    <p class="section-subtitle">Твій шлях до вільної англійської: від рівня до рівня</p>

    <!-- 2-КОЛОНКОВИЙ LAYOUT: Інформація + Склад рівня -->
    <div class="levels-content-layout">
      <!-- ЛІВА КОЛОНКА: Що входить у 1 рівень -->
      <div class="level-composition">
        <h3>{{ level_content.title_uk }}</h3>
        <ul class="level-composition__list">
          {% for item in level_content.items_uk %}
          <li>
            <strong>{{ item.title }}</strong> — {{ item.description }}
          </li>
          {% endfor %}
        </ul>
      </div>

      <!-- ПРАВА КОЛОНКА: Інформаційний блок про рівні -->
      <div class="levels-info">
        <img src="{% static 'img/star-icon.svg' %}" alt="Зірочка" class="levels-info__star">
        <h3>{{ level_info.title_uk }}</h3>
        <p><strong>Один рівень — це 3 місяці інтенсивного прогресу.</strong></p>
        <p>Кожен етап завершується фінальним тестуванням. Ми дбаємо про вашу якість знань: <strong>якщо результат тесту нижче 65 балів, ви проходите рівень повторно безкоштовно.</strong> Ми працюємо з вами до тих пір, поки ви не отримаєте впевнений результат.</p>
      </div>
    </div>

    <!-- Прайс-картки пакетів -->
    <div class="pricing-cards">
      {% for package in level_packages %}
      <div class="pricing-card {% if package.id == popular_package %}pricing-card--popular{% endif %}">
        {% if package.id == popular_package %}
        <span class="pricing-card__badge">Найпопулярніший</span>
        {% endif %}

        <!-- Стікер зі знижкою -->
        {% if package.discount_percent != 0 %}
        <span class="pricing-card__discount-sticker">{{ package.discount_percent }}%</span>
        {% endif %}

        <!-- Рядок 1: Назва пакету -->
        <h4 class="pricing-card__title">{{ package.name_uk }}</h4>

        <!-- Рядок 2: Кількість рівнів = Тривалість -->
        <p class="pricing-card__row-2">
          <strong>
            {% if package.levels_count == 1 %}
              1 рівень
            {% else %}
              {{ package.levels_count }} рівні
            {% endif %}
            = {{ package.duration_uk }}
          </strong>
        </p>

        <!-- Рядок 3: Ціна за рівень -->
        <p class="pricing-card__row-3">
          {% if package.discount_percent != 0 %}
            {% if package.id == 'progress' %}
              <span class="price-old">19800 грн</span>
              <span class="price-new">{{ package.full_price }} грн</span>
            {% elif package.id == 'confidence' %}
              <span class="price-old">39600 грн</span>
              <span class="price-new">{{ package.full_price }} грн</span>
            {% elif package.id == 'maximum' %}
              <span class="price-old">59400 грн</span>
              <span class="price-new">{{ package.full_price }} грн</span>
            {% endif %}
          {% else %}
            <strong>{{ package.full_price }} грн</strong>
          {% endif %}
        </p>

        <!-- Помісячна ціна (зберігаємо як є) -->
        <p class="price-per-month"><strong>{{ package.price_per_month }} грн/міс</strong></p>
      </div>
      {% endfor %}
    </div>

    <!-- CTA кнопка -->
    <div class="levels-cta">
      <a href="#" class="button button--primary">Записатись на безкоштовне пробне заняття</a>
    </div>
  </section>

  <!-- 3. ЯКОРІ ДЛЯ МАЙБУТНІХ СЕКЦІЙ (ЗАГЛУШКИ) -->
  <section id="individual-section" style="display: none;"></section>
  <section id="unlimited-section" style="display: none;"></section>
</main>
{% endblock %}

{% block extra_js %}
<script type="module" src="{% static 'js/modules/adults-advantages-accordion.js' %}" defer></script>
{% endblock %}
