{% extends "base.html" %}
{% load static %}

{% block title %}Новини та статті - SPEAK UP{% endblock %}
{% block og_title %}Новини та статті - SPEAK UP{% endblock %}
{% block meta_description %}Актуальні новини школи Speak Up, корисні статті про вивчення англійської, методики навчання та поради від наших експертів.{% endblock %}

{% block structured_data %}
{{ block.super }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Новини та статті - SPEAK UP",
  "description": "Актуальні новини школи Speak Up, корисні статті про вивчення англійської, методики навчання та поради від наших експертів",
  "url": "{% if canonical_url %}{{ canonical_url }}{% else %}{{ request.build_absolute_uri }}{% endif %}"
}
</script>
{% endblock %}

{% block content %}
<!-- Фон (паралакс) -->
<div class="news-background" data-parallax-layer="background" aria-hidden="true">
  <picture>
    <source
      media="(min-width: 768px)"
      srcset="{% static 'img/blogBack.png' %}">
    <source
      media="(max-width: 767px)"
      srcset="{% static 'img/blogBackmob.png' %}">
    <img
      src="{% static 'img/blogBack.png' %}"
      alt=""
      class="news-background__image"
      loading="eager"
      decoding="async">
  </picture>
</div>

<!-- Контент (паралакс) -->
<div class="news-content" data-parallax-layer="content">
<main class="news-list-page">
  <section class="news-hero glass-section">
    <h1>Новини та статті</h1>
    <p class="news-hero__subtitle">Актуальні новини школи Speak Up, корисні статті про вивчення англійської, методики навчання та поради від наших експертів</p>
  </section>

  {% if page_obj %}
    <section class="news-list">
      {% for article in page_obj %}
        <article class="news-item">
          {% if article.featured_image %}
            <img src="{{ article.featured_image.url }}" alt="{{ article.title_uk }}" class="news-item__image">
          {% endif %}

          <div class="news-item__content">
            <h2>
              <a href="{{ article.get_absolute_url }}">{{ article.title_uk }}</a>
            </h2>

            <time datetime="{{ article.published_at|date:'Y-m-d' }}" class="news-item__date">
              {{ article.published_at|date:"d.m.Y" }}
            </time>

            {% if article.meta_description_uk %}
              <p class="news-item__excerpt">{{ article.meta_description_uk|truncatewords:30 }}</p>
            {% endif %}

            <a href="{{ article.get_absolute_url }}" class="news-item__link">Читати далі →</a>
          </div>
        </article>
      {% endfor %}
    </section>

    <!-- Пагінація -->
    {% if page_obj.has_other_pages %}
      <nav class="pagination" aria-label="Навігація по сторінкам">
        {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}" class="pagination__link">← Попередня</a>
        {% endif %}

        <span class="pagination__current">
          Сторінка {{ page_obj.number }} з {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}" class="pagination__link">Наступна →</a>
        {% endif %}
      </nav>
    {% endif %}
  {% else %}
    <p>Статті будуть опубліковані найближчим часом.</p>
  {% endif %}
</main>
</div>
{% endblock %}




